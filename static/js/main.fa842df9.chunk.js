(this["webpackJsonpretro-board-ui"]=this["webpackJsonpretro-board-ui"]||[]).push([[0],{66:function(e,n,t){e.exports=t(82)},82:function(e,n,t){"use strict";t.r(n);var a=t(0),r=t.n(a),i=t(7),o=t.n(i);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var c=t(60),l=t(27),u=t(26),s=t(20),d=(t(71),t(30)),m=t(21),f=t(104),p=t(106),g=t(41),b=(t(75),t(101)),v=t(105),h=t(55),E=t.n(h),x=function(e){var n=r.a.useState(null),t=Object(u.a)(n,2),a=t[0],i=t[1],o=function(){i(null)},c=Boolean(a),l=c?"emoji-popover":void 0;return r.a.createElement("div",null,r.a.createElement(b.a,{"aria-describedby":l,"aria-label":"emoji-picker",style:{align:"right"},size:"small",variant:"outlined",onClick:function(e){i(e.currentTarget)}},r.a.createElement(E.a,null)),r.a.createElement(v.a,{ref:r.a.createRef(),id:l,open:c,anchorEl:a,onClose:o,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},r.a.createElement(g.b,{onSelect:function(n){e.onEmojiSelect(n),o()}})))};function k(){var e=Object(s.a)(["\n  margin-right: 4px;\n"]);return k=function(){return e},e}function j(){var e=Object(s.a)(["\n  border: 1px solid lightgrey;\n  border-radius: 2px;\n  padding: 8px;\n  margin-bottom: 8px;\n  background-color: ",";\n"]);return j=function(){return e},e}var O=m.a.div(j(),(function(e){return e.isDragging?"lightgreen":"white"})),y=m.a.div(k()),w=function(e){var n=r.a.useState([]),t=Object(u.a)(n,2),a=t[0],i=t[1],o=r.a.useState(0),c=Object(u.a)(o,2),s=c[0],m=c[1],b=function(e){e.reactions++,m(s+1)},v=function(e){var n=a.find((function(n){return n.id===e.id}));n?b(n):(e.reactions=1,i([].concat(Object(l.a)(a),[e])))};return r.a.createElement(d.b,{draggableId:e.task.id,index:e.index},(function(n,t){return r.a.createElement(O,Object.assign({},n.draggableProps,n.dragHandleProps,{ref:n.innerRef,isDragging:t.isDragging}),r.a.createElement(f.a,{container:!0,alignItems:"center"},r.a.createElement(f.a,{container:!0,item:!0,xs:11,md:11},e.task.content),r.a.createElement(f.a,{container:!0,justify:"flex-end",item:!0,xs:1,md:1},r.a.createElement(x,{onEmojiSelect:v})),r.a.createElement(f.a,{container:!0,item:!0,alignItems:"center"},a.map((function(e,n){return r.a.createElement(y,{key:"emoji-reaction-".concat(n)},r.a.createElement(p.a,{variant:"outlined",size:"small","aria-label":e.name,label:e.reactions,avatar:r.a.createElement(g.a,{key:"asd",emoji:e,size:18}),onClick:function(){return b(e)}}))})))))}))};function I(){var e=Object(s.a)(["\n  padding: 8px;\n  transition: background-color 0.2 ease;\n  background-color: ",";\n  flex-grow: 1;\n  min-height: 100px;\n"]);return I=function(){return e},e}function S(){var e=Object(s.a)(["\n  padding: 8px;\n"]);return S=function(){return e},e}function D(){var e=Object(s.a)(["\n  margin: 8px;\n  border: 1px solid lightgrey;\n  border-radius: 2px;\n  width: 220px;\n\n  display: flex;\n  flex-direction: column;\n"]);return D=function(){return e},e}var z=m.a.div(D()),C=m.a.h3(S()),B=m.a.div(I(),(function(e){return e.isDraggingOver?"skyblue":"white"})),J=function(e){return r.a.createElement(z,null,r.a.createElement(C,null,e.column.title),r.a.createElement(d.c,{droppableId:e.column.id},(function(n,t){return r.a.createElement(B,Object.assign({ref:n.innerRef},n.droppableProps,{isDraggingOver:t.isDraggingOver}),e.tasks.map((function(e,n){return r.a.createElement(w,{key:e.id,task:e,index:n})})),n.placeholder)})))};function P(){var e=Object(s.a)(["\n\tdisplay: flex;\n\tflex-wrap: wrap;\n"]);return P=function(){return e},e}var R=m.a.div(P()),T=function(){var e=Object(a.useState)({state:"pending"}),n=Object(u.a)(e,2),t=n[0],i=n[1];Object(a.useEffect)((function(){o()}),[]);var o=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],n="?";e&&(n+="withTask=true"),fetch("".concat("http://localhost:8080","/column").concat(n)).then((function(e){return e.json()})).then((function(e){return i({state:"resolved",items:e})})).catch((function(e){return i({state:"rejected",error:e})}))},s=function(e){return t.items.find((function(n){return n.id===e}))},m=function(e){return t.items.findIndex((function(n){return n.id===e}))};return"pending"===t.state?r.a.createElement("div",null,"Loading..."):"rejected"===t.state?r.a.createElement("div",null,"Error: ",r.a.createElement("pre",null,JSON.stringify(t.error,null,2))):r.a.createElement(d.a,{onDragUpdate:function(e){var n=e.destination,a=0;if(n){var r=m(n.droppableId);a=n.index/t.items[r].tasks.length}document.body.style.backgroundColor="rgba(153, 141, 217, ".concat(a,")")},onDragEnd:function(e){document.body.style.color="inherit",document.body.style.backgroundColor="inherit";var n=e.destination,a=e.source;if(n&&(n.droppableId!==a.droppableId||n.index!==a.index)){var r=s(a.droppableId),o=s(n.droppableId);r!==o?function(e,n,a,r){var o=e.tasks[n.index],c=Object(l.a)(e.tasks);c.splice(n.index,1);var u=Object(l.a)(a.tasks);u.splice(r.index,0,o);var s=t.items.map((function(e){return e.id===n.droppableId?e.tasks=c:e.id===r.droppableId&&(e.tasks=u),e}));i({state:"resolved",items:s})}(r,a,o,n):function(e,n,a,r){var o=e.tasks[n.index],u=Object(l.a)(e.tasks);u.splice(n.index,1),u.splice(r.index,0,o);var s=Object(c.a)({},t,{items:Object(l.a)(t.items)});s.items[a].tasks=u,i({state:"resolved",items:s.items})}(r,a,m(a.droppableId),n)}}},r.a.createElement(R,null,t.items.map((function(e){var n=e.tasks;return r.a.createElement(J,{key:e.id,column:e,tasks:n})}))))};o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[66,1,2]]]);
//# sourceMappingURL=main.fa842df9.chunk.js.map